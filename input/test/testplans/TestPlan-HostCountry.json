{
    "resourceType": "TestPlan",
    "id": "HostCountryTestPlan",
    "status": "active",
    "version": "1.0.0",
    "name": "HostCountryTestPlan",
    "title": "Functional Unit Tests for the Host Country System Actor during the IPS-Pilgrimage Workflow",
    "publisher": "World Health Organization (WHO)",
    "contact": [
      {
        "name": "WHO SMART Guidelines",
        "telecom": [
          {
            "system": "email",
            "value": "SMART@who.int"
          }
        ]
      }
    ],
    "jurisdiction": [
      {
        "coding": [
          {
            "system": "urn:iso:std:iso:3166",
            "code": "001",
            "display": "World Health Organization"
          }
        ]
      }
    ],
    "purpose": "Unit Tests for the Host Country EMR to verify, retrieve and display of IPS for pilgrims.",
    "copyright": "Â© 2025 World Health Organization. All rights reserved.",
    "category": [
      {
        "coding": [
          {
            "system": "http://hl7.org/fhir/ValueSet/testscript-scope-phase-codes",
            "code": "unit",
            "display": "unit"
          }
        ]
      }
    ],
    "scope": [
      {
        "display": "Unit Tests for the Host Country EMR to verify, retrieve and display of IPS for pilgrims."
      },
      {
        "artifactCanonical" : "ActorDefinition/HostCountryEMR"
      }
    ],
    "testTools": "ITB with Gherkin+FHIR support",
    "exitCriteria": "All test cases should pass without errors. Critical paths must be verified.",
    "testCase": [
      {
        "sequence": 1,
        "scope": [
          {
            "reference": "VerifierService"
          }
        ],
        "testRun": [
          {
            "narrative": "Test cases for verifying QR code signature",
            "script": {
              "language": {
                "coding": [
                  {
                    "code": "text/x-gherkin"
                  }
                ]
              },
              "sourceReference": {
                "reference": "Binary/verify-qr"
              }
            }
          }
        ]
      },
      {
        "sequence": 2,
        "scope": [
          {
            "reference": "VHLManifestService"
          }
        ],
        "testRun": [
          {
            "narrative": "Test cases for VHL manifest retrieval",
            "script": {
              "language": {
                "coding": [
                  {
                    "code": "text/x-gherkin"
                  }
                ]
              },
              "sourceReference": {
                "reference": "Binary/retrieve-vhl-manifest"
              }
            }
          }
        ]
      },
      {
        "sequence": 3,
        "scope": [
          {
            "reference": "IPSServer"
          }
        ],
        "testRun": [
          {
            "narrative": "Test cases for IPS retrieval",
            "script": {
              "language": {
                "coding": [
                  {
                    "code": "text/x-gherkin"
                  }
                ]
              },
              "sourceReference": {
                "reference": "Binary/retrieve-ips"
              }
            }
          }
        ]
      },
      {
        "sequence": 4,
        "scope": [
          {
            "reference": "IPSServer"
          }
        ],
        "testRun": [
          {
            "narrative": "Test cases for IPS content validation",
            "script": {
              "language": {
                "coding": [
                  {
                    "code": "text/x-gherkin"
                  }
                ]
              },
              "sourceReference": {
                "reference": "Binary/validate-ips"
              }
            }
          }
        ]
      },
      {
        "sequence": 5,
        "scope": [
          {
            "reference": "EMRViewer"
          }
        ],
        "testRun": [
          {
            "narrative": "Test case for rendering IPS narrative",
            "script": {
              "language": {
                "coding": [
                  {
                    "code": "text/x-gherkin"
                  }
                ]
              },
              "sourceReference": {
                "reference": "Binary/display-ips"
              }
            }
          }
        ]
      }
    ]
  }
  